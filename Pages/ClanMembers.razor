@page "/ourclan"

@using TravelersChosen.Data
@inject ClanMemberService ClanMemberService

@*<h1>Weather forecast</h1>

<p>This component demonstrates fetching data from a service.</p>*@

@if (allMembers == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="album py-5">
        <div class="container">

            <div class="row text-center pb-5">
                <div class="col-md-12">
                    <h1 class="our-clan-title-founder">FOUNDERS</h1>
                </div>
            </div>
            <div class="row justify-content-center">
                @foreach (var founder in founders)
                {
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src=@("../images/travelers/" + founder.destinyUserInfo.membershipId + ".png") alt="Card image cap">
                            <div class="card-body text-center">
                                <h2 class="h2-name-founder">@founder.destinyUserInfo.displayName</h2>
                                @*<p>Main: Titan <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">
                                    "Think lightly of yourself and deeply of the world"
                                    - Miyamoto Musashi, Japanese Rōnin and greatest swordmaster in history
                                </p>*@
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/id/ArtemMoshkovich/">
                                            <img src=@("https://www.bungie.net" + founder.destinyUserInfo.iconPath) alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                 }
                </div>
                <div class="row text-center p-4">
                    <div class="col-md-12 p-4 border-top">
                        <h1 class="our-clan-titles">Admin</h1>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-4">
                        @foreach (var admin in admins)
                        {
                            <div class="card mb-4 shadow-sm">
                                <img class="card-img-top" src=@("../images/travelers/" + admin.destinyUserInfo.membershipId + ".png") alt="Card image cap">
                                <div class="card-body text-center">
                                    <h2 class="h2-name-admin">@admin.destinyUserInfo.displayName</h2>
                                    @*<p>Main: Hunter <br> Plays: PvE <br> Player Type: Semi-Hardcore</p>
                                    <p class="card-text">
                                        "I don't want to live on <br>this planet anymore." <br>- Professor
                                        Hubert
                                        Farnsworth
                                    </p>*@
                                    <div class="d-flex justify-content-center ">
                                        <div class="steam-logo">
                                            <a target="_blank" href="https://steamcommunity.com/id/DOSteveSz">
                                                <img src=@("https://www.bungie.net" + admin.destinyUserInfo.iconPath) alt="">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
                <div class="row text-center p-5 ">
                    <di class="col-md-12 p-4 border-top">
                        <h1 class="">TRAVELERS</h1>
                    </di>

                </div>


                <div class="row">
                    @foreach (var clanmember in members)
                    {
                        <div class="col-md-4">
                            <div class="card mb-4 shadow-sm">
                                <img class="card-img-top" src=@("../images/travelers/" + clanmember.destinyUserInfo.membershipId + ".png") alt="Card image cap">
                                <div class="card-body text-center">
                                    <h2>@clanmember.destinyUserInfo.displayName</h2>
                                    @*<p>Main: Titan <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                    <p class="card-text">"Sup"</p>*@
                                    <div class="d-flex justify-content-center ">
                                        <div class="steam-logo">
                                            <a target="_blank" href="https://steamcommunity.com/id/CAIVI">
                                                <img src=@("https://www.bungie.net" + clanmember.destinyUserInfo.iconPath) alt="">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @*<div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Cozmic.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Cozmic</h2>
                                <p>Main: Hunter <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">
                                    "You don't need a license <br>to drive a sandwich"
                                    <br>- Spongebob Squarepants
                                </p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/id/Guntershorts">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Daedalus-3.jpg" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Daedalus</h2>
                                <p>Main: Warlock <br> Plays: PvE <br> Player Type: Casual</p>
                                <p class="card-text">
                                    "Any sufficiently advanced technology is indistinguishable from magic."
                                    <br> - Arthur C. Clarke
                                </p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/profiles/76561197972289481">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Grey.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Grey</h2>
                                <p>Main: Grey <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">
                                    "True Guardians make their own fate." Grey Gaming YouTube Channel,
                                    covering competitive FPS games with a
                                    focus on Destiny
                                </p>

                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo steam-logo-grey">
                                        <a target="_blank" href="https://steamcommunity.com/id/GreyGaming">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                        <a target="_blank" href="https://www.youtube.com/c/GreyGamingGG/featured">
                                            <img class="yt-logo" src="./images/youtube-logo-png-images-0.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Karmuh.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Karmuh</h2>
                                <p>Main: Warlock <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">"Can I get a back rub?"</p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/profiles/76561198829987017">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/KophDrop.jpg" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>KophDrop</h2>
                                <p>Main: Warlock <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">"Screeb Stomper"</p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/id/KophDrop">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Rayden.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Rayden</h2>
                                <p>Main: Hunter <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">“When a god speaks, heed him.”</p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/id/RaydenTrey">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Rixx.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Rixx</h2>
                                <p>Main: Hunter <br> Plays: PvE & PvP <br> Player Type: Casual</p>
                                <p class="card-text">"I'm all in! Wait, what are we playing?"</p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank"
                                           href="https://www.youtube.com/watch?v=oHg5SJYRHA0&ab_channel=cotter548">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Undead.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Undead</h2>
                                <p>Main: Hunter <br> Plays: PvE & PvP <br> Player Type: Hardcore</p>
                                <p class="card-text">
                                    "Madness, as you know, is a lot like gravity, all it takes is a little
                                    push." <br> - Joker, The Dark Knight
                                </p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank" href="https://steamcommunity.com/profiles/76561198445790525">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <img class="card-img-top" src="./images/travelers/Zealot.png" alt="Card image cap">
                            <div class="card-body text-center">
                                <h2>Zealot</h2>
                                <p>Main: Titan <br> Plays: PvE <br> Player Type: Casual</p>
                                <p class="card-text">"Pumpkin Spice is my porn name."</p>
                                <div class="d-flex justify-content-center ">
                                    <div class="steam-logo">
                                        <a target="_blank"
                                           href="https://www.youtube.com/watch?v=oHg5SJYRHA0&ab_channel=cotter548">
                                            <img src="./images/steam-logo.png" alt="">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>*@
                </div>
            </div>
    </div>
}

@code {
    private IEnumerable<ClanMemeber> allMembers;
    private IEnumerable<ClanMemeber> founders;
    private IEnumerable<ClanMemeber> admins;
    private IEnumerable<ClanMemeber> members;

    protected override async Task OnInitializedAsync()
    {
        await ClanMemberService.GetClanMembers();
        allMembers = ClanMemberService.ClanMembers;
        founders = allMembers.Where(x => x.memberType == 5);
        admins = allMembers.Where(x => x.memberType == 3);
        members = allMembers.Where(x => x.memberType == 2).OrderBy(x => x.destinyUserInfo.displayName);
    }
}
